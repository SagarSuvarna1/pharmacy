<!DOCTYPE html>
<html lang="en">
<head>
  <title>Drug Master - Pharmacy</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Inter:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0; background: linear-gradient(120deg, #f3fafd 0%, #e3ecfa 100%);
      font-family: 'Inter', Arial, sans-serif; min-height: 100vh;
    }
    .container {
      max-width: 950px;
      margin: 38px auto 0 auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 14px 36px rgba(41,121,255,0.10), 0 2px 6px #e8f6fd;
      padding: 34px 34px 22px 34px;
      min-height: 80vh;
    }
    h2 {
      color: #2367c8; font-weight: 700; font-size: 2.2rem;
      margin-top: 0; margin-bottom: 14px; letter-spacing: 0.01em;
      display: flex; align-items: center; gap:12px;
    }
    .add-drug {
      background: linear-gradient(90deg, #239cb8 60%, #2979ff 99%);
      color: #fff;
      border-radius: 6px; padding: 9px 21px;
      font-weight: 600;
      font-size: 1rem;
      text-decoration: none;
      box-shadow: 0 2px 8px #239cb81e;
      margin-left: auto;
      display: flex; align-items: center; gap:7px;
      transition: background 0.16s, box-shadow 0.17s;
    }
    .add-drug svg { vertical-align: middle;}
    .add-drug:hover { background:#1866b5; box-shadow:0 4px 16px #2979ff36;}
    .top-links {
      margin-bottom: 19px;
      display: flex; gap: 9px 25px; flex-wrap: wrap;
      align-items: center;
    }
    .top-links a {
      color: #2367c8; background: #f3fafd;
      padding:7px 18px; font-weight:500; border-radius: 6px;
      text-decoration: none; font-size: 1.01rem; display:flex; align-items:center; gap:4px;
      transition: background 0.16s, color 0.12s;
      box-shadow: 0 1.3px 7px #3089a214;
    }
    .top-links a:hover { background: #e3f0fa; color:#1866b5; }
    table {
      border-collapse: separate; border-spacing: 0;
      width: 100%; background: #fafdff;
      border-radius: 13px; overflow: hidden;
      margin-top: 8px;
      font-size: 1rem;
      box-shadow:0 1.2px 6px #e3ecfa56;
    }
    th, td {
      padding: 12px 10px; border-bottom: 1px solid #e3e9f4; font-size: 1rem;
      text-align: left;
    }
    th {
      background: linear-gradient(90deg, #e1f3ee, #d8e8fa 85%);
      color: #247bb8;
      font-weight: 700;
      letter-spacing: 0.016em;
      font-size: 1.07rem;
      position: sticky; top: 0; z-index:2;
      border-top: none;
    }
    tbody tr {
      transition: background 0.12s;
    }
    tbody tr:hover {
      background: #e7f2fb;
    }
    tr:nth-child(even) { background: #f6fbfe; }
    .req {
      color: #229601; font-weight:700; letter-spacing: 0.02em; font-size:1.05em;
      background: #eaf8ea; padding: 4px 13px; border-radius:14px 5px 15px 6px;
      box-shadow: 0 1px 5px #22960118;
    }
    .not-req {
      color: #d12424; font-weight:600; background: #fbeaea; padding: 4px 10px; border-radius:13px 4px;
    }
    .no-data {
      text-align:center; color:#bdc0c6; background:#f8fbfb;
      font-style:italic; padding:28px 0;font-size:1.1em;
    }
    @media (max-width: 900px) {
      .container { padding: 2vw 3.5vw;}
      th, td { font-size:0.98rem; padding: 9px 5px;}
      h2 { font-size:1.3rem; }
      .add-drug { font-size:0.98rem; padding:7px 13px; }
      .top-links a { font-size:0.97rem; }
    }
    @media (max-width: 680px) {
      .container {padding:2vw 2vw;}
      table, th, td { font-size:0.93rem;}
      th, td { padding:7px 3px;}
      .top-links {gap:5px 8px;}
    }
    /* Nice scrollbar for overflow */
    .table-scroll { overflow-x:auto; }
  </style>
</head>
<body>
  <div class="container">
    <div style="display:flex; align-items:center; gap:18px;">
      <h2>
        <svg width="32" height="32" viewBox="0 0 40 40" fill="none">
          <circle cx="20" cy="20" r="20" fill="#e2f7ee"/>
          <rect x="11" y="16" width="18" height="8" rx="4" fill="#27b8a0"/>
          <rect x="17.1" y="10.7" width="6" height="18.6" rx="3" transform="rotate(45 20 20)" fill="#71cbfa"/>
        </svg>
        Drug Master
      </h2>
      <a href="/drugs/add" class="add-drug">
        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:2px"><circle cx="9" cy="9" r="8.3" stroke="#fff" fill="none"/><path d="M9 5v8M5 9h8" stroke="#fff" stroke-linecap="round"/></svg>
        Add Drug
      </a>
    </div>
    <div class="top-links">
      <a href="/dashboard"><svg width="17" height="17" fill="none" stroke="#2367c8" stroke-width="2" style="margin-right:3px"><path d="M3 8.5L8.5 3 14 8.5V15H10V11H7v4H3V8.5Z"/></svg>Dashboard</a>
      <a href="/stock"><svg width="16" height="16" fill="none" stroke="#2367c8" stroke-width="2" style="margin-right:3px"><rect x="2" y="7" width="12" height="7" rx="1.6"/><rect x="4" y="2" width="8" height="5" rx="1.2"/></svg>Opening Stock</a>
      <a href="/inventory"><svg width="16" height="16" fill="none" stroke="#2367c8" stroke-width="2" style="margin-right:3px"><rect x="2" y="2" width="12" height="12" rx="2"/><path d="M2 6h12"/></svg>Inventory</a>
      <a href="/billing"><svg width="17" height="17" fill="none" stroke="#2367c8" stroke-width="2" style="margin-right:3px"><rect x="3" y="5" width="11" height="9" rx="2"/><path d="M6 3v3M11 3v3"/></svg>Billing</a>
    </div>
    <div class="table-scroll">
      <table>
        <thead>
          <tr>
            <th>Code</th>
            <th>Drug Name</th>
            <th>Generic</th>
            <th>Manufacturer</th>
            <th>Classification</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <% if (list && list.length) { %>
            <% list.forEach(function(drug) { %>
              <tr>
                <td><%= drug.code %></td>
                <td><%= drug.name %></td>
                <td><%= drug.generic_name %></td>
                <td><%= drug.manufacturer %></td>
                <td><%= drug.classification %></td>
                <td>
                  <% if (drug.required) { %>
                    <span class="req">YES</span>
                  <% } else { %>
                    <span class="not-req">NO</span>
                  <% } %>
                </td>
              </tr>
            <% }) %>
          <% } else { %>
            <tr>
              <td colspan="6" class="no-data">
                No drugs found. <a href="/drugs/add" style="color:#2a6cf7;text-decoration:underline;">Add one?</a>
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
